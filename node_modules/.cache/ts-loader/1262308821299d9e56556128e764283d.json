{"remainingRequest":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js??ref--13-2!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/NewComment.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/NewComment.vue","mtime":1624537514000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvcHJhZnVsL2FhcHBwL09DXzctQnVpbGRfYV9GdWxsLVN0YWNrX3NvbHV0aW9uLW1haW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL3ByYWZ1bC9hYXBwcC9PQ183LUJ1aWxkX2FfRnVsbC1TdGFja19zb2x1dGlvbi1tYWluL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvcHJhZnVsL2FhcHBwL09DXzctQnVpbGRfYV9GdWxsLVN0YWNrX3NvbHV0aW9uLW1haW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvaG9tZS9wcmFmdWwvYWFwcHAvT0NfNy1CdWlsZF9hX0Z1bGwtU3RhY2tfc29sdXRpb24tbWFpbi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9ob21lL3ByYWZ1bC9hYXBwcC9PQ183LUJ1aWxkX2FfRnVsbC1TdGFja19zb2x1dGlvbi1tYWluL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlLCBSZWYgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgcG9zdE5ld0NvbW1lbnQgfSBmcm9tICIuLi8uLi8uLi9oZWxwZXJzL2NvbW1lbnQtZ2V0dGVyIjsKCnZhciBOZXdDb21tZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKE5ld0NvbW1lbnQsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE5ld0NvbW1lbnQpOwoKICBmdW5jdGlvbiBOZXdDb21tZW50KCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXdDb21tZW50KTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuc2hvd19jb21tZW50X2Zvcm0gPSBmYWxzZTsKICAgIF90aGlzLmVycm9yID0gIiI7CiAgICBfdGhpcy5uZXdfY29tbWVudCA9IHsKICAgICAgYXV0aG9yOiBfdGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCwKICAgICAgY29udGVudDogIiIsCiAgICAgIHBvc3Q6IF90aGlzLnBvc3QuaWQKICAgIH07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTmV3Q29tbWVudCwgW3sKICAgIGtleTogImRpc3BsYXlDb21tZW50Rm9ybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheUNvbW1lbnRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd19jb21tZW50X2Zvcm0gPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5uZXdDb21tZW50VGV4dGFyZWEuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkQ29tbWVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ29tbWVudCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBwb3N0TmV3Q29tbWVudCh0aGlzLm5ld19jb21tZW50KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJGVtaXQoIm5ldy1jb21tZW50LXBvc3RlZCIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgX3RoaXMzLm5ld19jb21tZW50KSwge30sIHsKICAgICAgICAgIGF1dGhvcjogX3RoaXMzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJuYW1lCiAgICAgICAgfSkpOwoKICAgICAgICBfdGhpczMuY2xvc2UoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMy5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy5uZXdfY29tbWVudC5jb250ZW50ID0gIiI7CiAgICAgIHRoaXMuZXJyb3IgPSAiIjsKICAgICAgdGhpcy5zaG93X2NvbW1lbnRfZm9ybSA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNC5vcGVuQ29tbWVudEZvcm1CdXR0b24uZm9jdXMoKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTmV3Q29tbWVudDsKfShWdWUpOwoKX19kZWNvcmF0ZShbUHJvcCgpXSwgTmV3Q29tbWVudC5wcm90b3R5cGUsICJwb3N0Iiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1JlZigpXSwgTmV3Q29tbWVudC5wcm90b3R5cGUsICJuZXdDb21tZW50VGV4dGFyZWEiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUmVmKCldLCBOZXdDb21tZW50LnByb3RvdHlwZSwgIm9wZW5Db21tZW50Rm9ybUJ1dHRvbiIsIHZvaWQgMCk7CgpOZXdDb21tZW50ID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgTmV3Q29tbWVudCk7CmV4cG9ydCBkZWZhdWx0IE5ld0NvbW1lbnQ7"},{"version":3,"sources":["/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/NewComment.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;AAoCA,SAAS,SAAT,EAAoB,IAApB,EAA0B,GAA1B,EAA+B,GAA/B,QAA0C,wBAA1C;AACA,SAAS,cAAT,QAA+B,iCAA/B;;AAIA,IAAqB,UAArB;AAAA;;AAAA;;AAAA,wBAAA;AAAA;;AAAA;;;AAKU,UAAA,iBAAA,GAAoB,KAApB;AACA,UAAA,KAAA,GAAQ,EAAR;AAEA,UAAA,WAAA,GAA2B;AACjC,MAAA,MAAM,EAAE,MAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,EADE;AAEjC,MAAA,OAAO,EAAE,EAFwB;AAGjC,MAAA,IAAI,EAAE,MAAK,IAAL,CAAU;AAHiB,KAA3B;AARV;AAuCC;;AAvCD;AAAA;AAAA,WAcE,8BAAkB;AAAA;;AAChB,WAAK,iBAAL,GAAyB,IAAzB;AACA,WAAK,SAAL,CAAe;AAAA,eAAM,MAAI,CAAC,kBAAL,CAAwB,KAAxB,EAAN;AAAA,OAAf;AACD;AAjBH;AAAA;AAAA,WAmBE,sBAAU;AAAA;;AACR,MAAA,cAAc,CAAC,KAAK,WAAN,CAAd,CACG,IADH,CACQ,YAAK;AACT,QAAA,MAAI,CAAC,KAAL,CAAW,oBAAX,kCACK,MAAI,CAAC,WADV;AAEE,UAAA,MAAM,EAAE,MAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB;AAFjC;;AAIA,QAAA,MAAI,CAAC,KAAL;AACD,OAPH,EAQG,KARH,CAQS,UAAC,GAAD,EAAQ;AACb,QAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,OAAjB;AACD,OAVH;AAWD;AA/BH;AAAA;AAAA,WAiCE,iBAAK;AAAA;;AACH,WAAK,WAAL,CAAiB,OAAjB,GAA2B,EAA3B;AACA,WAAK,KAAL,GAAa,EAAb;AACA,WAAK,iBAAL,GAAyB,KAAzB;AACA,WAAK,SAAL,CAAe;AAAA,eAAM,MAAI,CAAC,qBAAL,CAA2B,KAA3B,EAAN;AAAA,OAAf;AACD;AAtCH;;AAAA;AAAA,EAAwC,GAAxC,CAAA;;AACU,UAAA,CAAA,CAAP,IAAI,EAAG,CAAA,E,oBAAA,E,MAAA,E,KAAyB,CAAzB,CAAA;;AACD,UAAA,CAAA,CAAN,GAAG,EAAG,CAAA,E,oBAAA,E,oBAAA,E,KAAkD,CAAlD,CAAA;;AACA,UAAA,CAAA,CAAN,GAAG,EAAG,CAAA,E,oBAAA,E,uBAAA,E,KAAmD,CAAnD,CAAA;;AAHY,UAAU,GAAA,UAAA,CAAA,CAD9B,SAC8B,CAAA,EAAV,UAAU,CAAV;eAAA,U","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Ref } from \"vue-property-decorator\";\nimport { postNewComment } from \"../../../helpers/comment-getter\";\nimport { PostClass, CommentType } from \"../../../types\";\n\n@Component\nexport default class NewComment extends Vue {\n  @Prop() private post!: PostClass;\n  @Ref() readonly newCommentTextarea!: HTMLTextAreaElement;\n  @Ref() readonly openCommentFormButton!: HTMLButtonElement;\n\n  private show_comment_form = false;\n  private error = \"\";\n\n  private new_comment: CommentType = {\n    author: this.$store.state.user.id,\n    content: \"\",\n    post: this.post.id,\n  };\n\n  displayCommentForm() {\n    this.show_comment_form = true;\n    this.$nextTick(() => this.newCommentTextarea.focus());\n  }\n\n  addComment(): void {\n    postNewComment(this.new_comment)\n      .then(() => {\n        this.$emit(\"new-comment-posted\", {\n          ...this.new_comment,\n          author: this.$store.state.user.username,\n        });\n        this.close();\n      })\n      .catch((err) => {\n        this.error = err.message;\n      });\n  }\n\n  close() {\n    this.new_comment.content = \"\";\n    this.error = \"\";\n    this.show_comment_form = false;\n    this.$nextTick(() => this.openCommentFormButton.focus());\n  }\n}\n"],"sourceRoot":""}]}