{"remainingRequest":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js??ref--13-2!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Account/DeleteAccount.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Account/DeleteAccount.vue","mtime":1624537514000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9wcmFmdWwvYWFwcHAvT0NfNy1CdWlsZF9hX0Z1bGwtU3RhY2tfc29sdXRpb24tbWFpbi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3ByYWZ1bC9hYXBwcC9PQ183LUJ1aWxkX2FfRnVsbC1TdGFja19zb2x1dGlvbi1tYWluL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvcHJhZnVsL2FhcHBwL09DXzctQnVpbGRfYV9GdWxsLVN0YWNrX3NvbHV0aW9uLW1haW4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS9wcmFmdWwvYWFwcHAvT0NfNy1CdWlsZF9hX0Z1bGwtU3RhY2tfc29sdXRpb24tbWFpbi9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUsIFJlZiB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBkZWxldGVVc2VyIH0gZnJvbSAiLi4vLi4vaGVscGVycy91c2VyLWdldHRlciI7Cgp2YXIgRGVsZXRlQWNjb3VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhEZWxldGVBY2NvdW50LCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihEZWxldGVBY2NvdW50KTsKCiAgZnVuY3Rpb24gRGVsZXRlQWNjb3VudCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVsZXRlQWNjb3VudCk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLmlzX2RlbGV0aW5nID0gZmFsc2U7CiAgICBfdGhpcy5wYXNzd29yZCA9ICIiOwogICAgX3RoaXMuZXJyb3IgPSAiIjsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhEZWxldGVBY2NvdW50LCBbewogICAga2V5OiAib3BlbkRlbGV0aW5nRm9ybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbkRlbGV0aW5nRm9ybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmlzX2RlbGV0aW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczIucGFzc3dvcmRJbnB1dC5mb2N1cygpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbG9zZURlbGV0aW5nRm9ybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VEZWxldGluZ0Zvcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5pc19kZWxldGluZyA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5kZWxldGVBY2NvdW50Rm9ybUJ1dHRvbi5mb2N1cygpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZWxldGVBY2NvdW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBY2NvdW50KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGRlbGV0ZVVzZXIodGhpcy4kc3RvcmUuc3RhdGUudXNlci5pZCwgdGhpcy5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM0LnBhc3N3b3JkID0gIiI7CiAgICAgICAgX3RoaXM0LmVycm9yID0gIiI7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKCiAgICAgICAgX3RoaXM0LiRyb3V0ZXIucmVwbGFjZSgiL3JlZ2lzdGVyIik7CgogICAgICAgIF90aGlzNC4kc3RvcmUuZGlzcGF0Y2goImNsZWFyVXNlciIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM0LmVycm9yID0gZXJyLm1lc3NhZ2U7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERlbGV0ZUFjY291bnQ7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW1JlZigpXSwgRGVsZXRlQWNjb3VudC5wcm90b3R5cGUsICJkZWxldGVBY2NvdW50Rm9ybUJ1dHRvbiIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtSZWYoKV0sIERlbGV0ZUFjY291bnQucHJvdG90eXBlLCAicGFzc3dvcmRJbnB1dCIsIHZvaWQgMCk7CgpEZWxldGVBY2NvdW50ID0gX19kZWNvcmF0ZShbQ29tcG9uZW50XSwgRGVsZXRlQWNjb3VudCk7CmV4cG9ydCBkZWZhdWx0IERlbGV0ZUFjY291bnQ7"},{"version":3,"sources":["/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Account/DeleteAccount.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;AAqCA,SAAS,SAAT,EAAoB,GAApB,EAAyB,GAAzB,QAAoC,wBAApC;AACA,SAAS,UAAT,QAA2B,2BAA3B;;AAGA,IAAqB,aAArB;AAAA;;AAAA;;AAAA,2BAAA;AAAA;;AAAA;;;AAIE,UAAA,WAAA,GAAc,KAAd;AACQ,UAAA,QAAA,GAAW,EAAX;AACA,UAAA,KAAA,GAAQ,EAAR;AANV;AAgCC;;AAhCD;AAAA;AAAA,WAQE,4BAAgB;AAAA;;AACd,WAAK,WAAL,GAAmB,IAAnB;AACA,WAAK,SAAL,CAAe;AAAA,eAAM,MAAI,CAAC,aAAL,CAAmB,KAAnB,EAAN;AAAA,OAAf;AACD;AAXH;AAAA;AAAA,WAaE,6BAAiB;AAAA;;AACf,WAAK,WAAL,GAAmB,KAAnB;AACA,WAAK,SAAL,CAAe;AAAA,eAAM,MAAI,CAAC,uBAAL,CAA6B,KAA7B,EAAN;AAAA,OAAf;AACD;AAhBH;AAAA;AAAA,WAkBE,yBAAa;AAAA;;AACX,MAAA,UAAU,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,EAAxB,EAA4B,KAAK,QAAjC,CAAV,CACG,IADH,CACQ,UAAC,GAAD,EAAQ;AACZ,QAAA,MAAI,CAAC,QAAL,GAAgB,EAAhB;AACA,QAAA,MAAI,CAAC,KAAL,GAAa,EAAb;AAEA,QAAA,cAAc,CAAC,UAAf,CAA0B,OAA1B;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,OAAb,CAAqB,WAArB;;AACA,QAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,WAArB;AACD,OARH,EASG,KATH,CASS,UAAC,GAAD,EAAQ;AACb,QAAA,MAAI,CAAC,KAAL,GAAa,GAAG,CAAC,OAAjB;AACD,OAXH;AAYD;AA/BH;;AAAA;AAAA,EAA2C,GAA3C,CAAA;;AACS,UAAA,CAAA,CAAN,GAAG,EAAG,CAAA,E,uBAAA,E,yBAAA,E,KAAqD,CAArD,CAAA;;AACA,UAAA,CAAA,CAAN,GAAG,EAAG,CAAA,E,uBAAA,E,eAAA,E,KAA0C,CAA1C,CAAA;;AAFY,aAAa,GAAA,UAAA,CAAA,CADjC,SACiC,CAAA,EAAb,aAAa,CAAb;eAAA,a","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Ref } from \"vue-property-decorator\";\nimport { deleteUser } from \"../../helpers/user-getter\";\n\n@Component\nexport default class DeleteAccount extends Vue {\n  @Ref() readonly deleteAccountFormButton!: HTMLButtonElement;\n  @Ref() readonly passwordInput!: HTMLInputElement;\n\n  is_deleting = false;\n  private password = \"\";\n  private error = \"\";\n\n  openDeletingForm(): void {\n    this.is_deleting = true;\n    this.$nextTick(() => this.passwordInput.focus());\n  }\n\n  closeDeletingForm(): void {\n    this.is_deleting = false;\n    this.$nextTick(() => this.deleteAccountFormButton.focus());\n  }\n\n  deleteAccount(): void {\n    deleteUser(this.$store.state.user.id, this.password)\n      .then((res) => {\n        this.password = \"\";\n        this.error = \"\";\n\n        sessionStorage.removeItem(\"token\");\n        this.$router.replace(\"/register\");\n        this.$store.dispatch(\"clearUser\");\n      })\n      .catch((err) => {\n        this.error = err.message;\n      });\n  }\n}\n"],"sourceRoot":""}]}