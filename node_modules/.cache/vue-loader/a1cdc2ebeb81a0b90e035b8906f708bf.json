{"remainingRequest":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/Comment.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/Comment.vue","mtime":1624537514000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgZGVsZXRlQ29tbWVudCB9IGZyb20gIi4uLy4uLy4uL2hlbHBlcnMvY29tbWVudC1nZXR0ZXIiOwppbXBvcnQgeyBDb21tZW50VHlwZSB9IGZyb20gIi4uLy4uLy4uL3R5cGVzIjsKCkBDb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbWVudCBleHRlbmRzIFZ1ZSB7CiAgQFByb3AoKSBwcml2YXRlIGNvbW1lbnQhOiBDb21tZW50VHlwZTsKICBAUHJvcCgpIHByaXZhdGUgcG9zaXRpb25faW5fYXJyYXkhOiBudW1iZXI7CgogIGVycm9yID0gIiI7CgogIHByaXZhdGUgaXNfYWRtaW4gPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmFkbWluOwoKICBlcmFzZUNvbW1lbnQoKSB7CiAgICBpZiAoIXRoaXMuY29tbWVudC5pZCkgewogICAgICB0aGlzLmVycm9yID0gIkNvbW1lbnQgaWQgaXMgbm90IGRlZmluZWTigKYiOwogICAgICByZXR1cm47CiAgICB9CgogICAgZGVsZXRlQ29tbWVudCh0aGlzLmNvbW1lbnQuaWQpCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLiRlbWl0KCJjb21tZW50LWRlbGV0ZWQiLCB0aGlzLnBvc2l0aW9uX2luX2FycmF5KTsKICAgICAgICB0aGlzLmVycm9yID0gIiI7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICB9KTsKICB9Cn0K"},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/components/Main/Post","sourcesContent":["<template>\n  <li class=\"comment\">\n    <header>\n      <p class=\"comment-author\">{{ comment.author }}</p>\n    </header>\n    <p class=\"text-content\">{{ comment.content }}</p>\n    <button\n      v-if=\"is_admin\"\n      v-on:click=\"eraseComment\"\n      class=\"button delete-button\"\n    >\n      Supprimer le commentaire\n    </button>\n    <p v-if=\"error\">{{ error }}</p>\n  </li>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { deleteComment } from \"../../../helpers/comment-getter\";\nimport { CommentType } from \"../../../types\";\n\n@Component\nexport default class Comment extends Vue {\n  @Prop() private comment!: CommentType;\n  @Prop() private position_in_array!: number;\n\n  error = \"\";\n\n  private is_admin = this.$store.state.user.admin;\n\n  eraseComment() {\n    if (!this.comment.id) {\n      this.error = \"Comment id is not definedâ€¦\";\n      return;\n    }\n\n    deleteComment(this.comment.id)\n      .then(() => {\n        this.$emit(\"comment-deleted\", this.position_in_array);\n        this.error = \"\";\n      })\n      .catch((err) => {\n        this.error = err.message;\n      });\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\"></style>\n"]}]}