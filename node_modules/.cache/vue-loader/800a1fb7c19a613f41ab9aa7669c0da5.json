{"remainingRequest":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/CommentsList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/components/Main/Post/CommentsList.vue","mtime":1624537514000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IHsgQ29tbWVudFR5cGUsIFBvc3RDbGFzcyB9IGZyb20gIi4uLy4uLy4uL3R5cGVzIjsKCmltcG9ydCBDb21tZW50IGZyb20gIi4vQ29tbWVudC52dWUiOwppbXBvcnQgeyBnZXRBbGxDb21tZW50cyB9IGZyb20gIi4uLy4uLy4uL2hlbHBlcnMvY29tbWVudC1nZXR0ZXIiOwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czogeyBDb21tZW50IH0sCn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1lbnRzTGlzdCBleHRlbmRzIFZ1ZSB7CiAgQFByb3AoKSBwcml2YXRlIHBvc3QhOiBQb3N0Q2xhc3M7CgogIHByaXZhdGUgYXJlX2FsbF9jb21tZW50c19zaG93biA9IGZhbHNlOwoKICBtb3VudGVkKCkgewogICAgdGhpcy5hcmVfYWxsX2NvbW1lbnRzX3Nob3duID0gISh0aGlzLnBvc3QuY29tbWVudHNfbnVtYmVyID4gMSk7CiAgfQoKICBzaG93QWxsQ29tbWVudHMoKSB7CiAgICBnZXRBbGxDb21tZW50cyh0aGlzLnBvc3QuaWQpLnRoZW4oCiAgICAgIChjb21tZW50cykgPT4gKHRoaXMucG9zdC5jb21tZW50cyA9IGNvbW1lbnRzKQogICAgKTsKICAgIHRoaXMuYXJlX2FsbF9jb21tZW50c19zaG93biA9IHRydWU7CiAgfQoKICBkZWxldGVDb21tZW50KGNvbW1lbnRfa2V5X2luX2FycmF5OiBudW1iZXIpIHsKICAgIHRoaXMucG9zdC5jb21tZW50cy5zcGxpY2UoY29tbWVudF9rZXlfaW5fYXJyYXksIDEpOwogIH0KfQo="},{"version":3,"sources":["CommentsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CommentsList.vue","sourceRoot":"src/components/Main/Post","sourcesContent":["<template>\n  <section class=\"comments-list-section\">\n    <ul v-if=\"this.post.comments.length > 0\" class=\"comments-list\">\n      <Comment\n        v-for=\"(comment, index) in this.post.comments\"\n        v-bind:key=\"comment.id\"\n        v-bind:position_in_array=\"index\"\n        v-bind:comment=\"comment\"\n        v-on:comment-deleted=\"deleteComment\"\n      />\n    </ul>\n\n    <button\n      type=\"button\"\n      v-if=\"!are_all_comments_shown\"\n      v-on:click=\"showAllComments\"\n      class=\"button more-comments\"\n    >\n      Afficher le reste des commentaires ({{ post.comments_number - 1 }})\n    </button>\n  </section>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { CommentType, PostClass } from \"../../../types\";\n\nimport Comment from \"./Comment.vue\";\nimport { getAllComments } from \"../../../helpers/comment-getter\";\n\n@Component({\n  components: { Comment },\n})\nexport default class CommentsList extends Vue {\n  @Prop() private post!: PostClass;\n\n  private are_all_comments_shown = false;\n\n  mounted() {\n    this.are_all_comments_shown = !(this.post.comments_number > 1);\n  }\n\n  showAllComments() {\n    getAllComments(this.post.id).then(\n      (comments) => (this.post.comments = comments)\n    );\n    this.are_all_comments_shown = true;\n  }\n\n  deleteComment(comment_key_in_array: number) {\n    this.post.comments.splice(comment_key_in_array, 1);\n  }\n}\n</script>\n"]}]}