{"remainingRequest":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/views/Register.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/views/Register.vue","mtime":1624537514000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBSZWdpc3RyYXRpb25JbmZvcm1hdGlvbiwgVXNlciB9IGZyb20gIi4uL3R5cGVzIjsKaW1wb3J0IHsgcG9zdE5ld1VzZXIgfSBmcm9tICIuLi9oZWxwZXJzL3VzZXItZ2V0dGVyIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0UGFzc3dvcmQgZXh0ZW5kcyBWdWUgewogIHVzZXI6IFJlZ2lzdHJhdGlvbkluZm9ybWF0aW9uID0gewogICAgZW1haWw6ICIiLAogICAgdXNlcm5hbWU6ICIiLAogICAgcGFzc3dvcmQ6ICIiLAogIH07CgogIGVycm9yID0gIiI7CgogIGNyZWF0ZU5ld1VzZXIoKSB7CiAgICBwb3N0TmV3VXNlcih0aGlzLnVzZXIpCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzcG9uc2UudG9rZW4pOwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRVc2VyIiwgewogICAgICAgICAgaWQ6IHJlc3BvbnNlLnVzZXIuaWQsCiAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VyLnVzZXJuYW1lLAogICAgICAgICAgZW1haWw6IHRoaXMudXNlci5lbWFpbCwKICAgICAgICAgIGFkbWluOiByZXNwb25zZS51c2VyLmFkbWluLAogICAgICAgIH0pOwoKICAgICAgICByb3V0ZXIucmVwbGFjZSgiLyIpOwoKICAgICAgICB0aGlzLnVzZXIuZW1haWwgPSAiIjsKICAgICAgICB0aGlzLnVzZXIudXNlcm5hbWUgPSAiIjsKICAgICAgICB0aGlzLnVzZXIucGFzc3dvcmQgPSAiIjsKCiAgICAgICAgdGhpcy5lcnJvciA9ICIiOwogICAgICB9KQogICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgIHRoaXMuZXJyb3IgPSBlcnIubWVzc2FnZTsKICAgICAgfSk7CiAgfQp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1 class=\"connection-title\">Cr√©er un compte</h1>\n\n    <form class=\"connection-form\">\n      <label class=\"connection-field\">\n        Identifiant\n        <input type=\"text\" v-model=\"user.username\" />\n      </label>\n      <label class=\"connection-field\">\n        Adresse email\n        <input type=\"email\" v-model=\"user.email\" />\n      </label>\n      <label class=\"connection-field\">\n        Mot de passe\n        <input type=\"password\" v-model=\"user.password\" />\n      </label>\n      <button type=\"button\" v-on:click=\"createNewUser\" class=\"button\">\n        Inscription\n      </button>\n      <p v-if=\"error\">{{ error }}</p>\n    </form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { RegistrationInformation, User } from \"../types\";\nimport { postNewUser } from \"../helpers/user-getter\";\nimport router from \"../router\";\n\n@Component\nexport default class EditPassword extends Vue {\n  user: RegistrationInformation = {\n    email: \"\",\n    username: \"\",\n    password: \"\",\n  };\n\n  error = \"\";\n\n  createNewUser() {\n    postNewUser(this.user)\n      .then((response) => {\n        sessionStorage.setItem(\"token\", response.token);\n        this.$store.dispatch(\"setUser\", {\n          id: response.user.id,\n          username: this.user.username,\n          email: this.user.email,\n          admin: response.user.admin,\n        });\n\n        router.replace(\"/\");\n\n        this.user.email = \"\";\n        this.user.username = \"\";\n        this.user.password = \"\";\n\n        this.error = \"\";\n      })\n      .catch((err) => {\n        this.error = err.message;\n      });\n  }\n}\n</script>\n"]}]}