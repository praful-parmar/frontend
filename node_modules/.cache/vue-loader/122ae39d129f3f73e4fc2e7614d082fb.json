{"remainingRequest":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/views/Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/src/views/Login.vue","mtime":1624537514000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/praful/aappp/OC_7-Build_a_Full-Stack_solution-main/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBMb2dpbkNyZWRlbnRpYWxzIH0gZnJvbSAiLi4vdHlwZXMiOwppbXBvcnQgeyBsb2dpblVzZXIgfSBmcm9tICIuLi9oZWxwZXJzL3VzZXItZ2V0dGVyIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIvaW5kZXgiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUvaW5kZXgiOwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0UGFzc3dvcmQgZXh0ZW5kcyBWdWUgewogIHVzZXI6IExvZ2luQ3JlZGVudGlhbHMgPSB7CiAgICBlbWFpbDogIiIsCiAgICBwYXNzd29yZDogIiIsCiAgfTsKCiAgZXJyb3IgPSAiIjsKCiAgbG9naW4oKSB7CiAgICBsb2dpblVzZXIodGhpcy51c2VyKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnVzZXIuZW1haWwgPSAiIjsKICAgICAgICB0aGlzLnVzZXIucGFzc3dvcmQgPSAiIjsKCiAgICAgICAgdGhpcy5lcnJvciA9ICIiOwoKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3BvbnNlLnRva2VuKTsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0VXNlciIsIHJlc3BvbnNlLnVzZXIpOwogICAgICAgIHJvdXRlci5yZXBsYWNlKCIvIik7CiAgICAgIH0pCiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgdGhpcy5lcnJvciA9IGVyci5tZXNzYWdlOwogICAgICB9KTsKICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1 class=\"connection-title\">Connexion</h1>\n\n    <form class=\"connection-form\">\n      <label class=\"connection-field\">\n        Email\n        <input type=\"email\" v-model=\"user.email\" />\n      </label>\n      <label class=\"connection-field\">\n        Mot de passe\n        <input type=\"password\" v-model=\"user.password\" />\n      </label>\n      <button type=\"button\" v-on:click=\"login\" class=\"button\">Connexion</button>\n      <p v-if=\"error\">{{ error }}</p>\n    </form>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { LoginCredentials } from \"../types\";\nimport { loginUser } from \"../helpers/user-getter\";\nimport router from \"../router/index\";\nimport store from \"../store/index\";\n\n@Component\nexport default class EditPassword extends Vue {\n  user: LoginCredentials = {\n    email: \"\",\n    password: \"\",\n  };\n\n  error = \"\";\n\n  login() {\n    loginUser(this.user)\n      .then((response) => {\n        this.user.email = \"\";\n        this.user.password = \"\";\n\n        this.error = \"\";\n\n        sessionStorage.setItem(\"token\", response.token);\n        this.$store.dispatch(\"setUser\", response.user);\n        router.replace(\"/\");\n      })\n      .catch((err) => {\n        this.error = err.message;\n      });\n  }\n}\n</script>\n"]}]}